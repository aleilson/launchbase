{% extends 'layout.njk' %}

{% block content %}
    <section class="card">
        <div class="image" style="background: url({{teacher.avatar_url}}) center no-repeat"></div>
    
        <div class="details">
            <form method="POST" action="/teachers?_method=PUT">
                <h3>Editar Professor</h3>

                {% include 'teachers/fields.njk' %}

                <input type="hidden" name="id" value={{teacher.id}}>
            </form>

            <form id="form-delete" action="/teachers?_method=DELETE" method="post">
                <input type="hidden" name="id" value={{teacher.id}}>
                <button type="submit">Deletar</button>
            </form>
            <script>
                const formDelete = document.querySelector("#form-delete")
                formDelete.addEventListener("submit", function(event){
                    const confirmation = confirm("Deseja Deletar?")

                    if(!confirmation) {
                        event.preventDefault()
                    }
                })
            </script>
        </div>

    </section>
{% endblock content %}